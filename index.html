<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>OJTè©•ä¾¡ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆ</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body {
      font-family: 'Inter', sans-serif;
      background-color: #f3f4f6;
    }
    .container {
      max-width: 800px;
    }
    .question-card, .result-card {
      background-color: #fff;
      border-radius: 12px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      transition: transform 0.3s ease-in-out;
    }
    .question-card:hover {
      transform: translateY(-5px);
    }
    .radio-label {
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      padding: 8px 12px;
      border: 2px solid #e5e7eb;
      border-radius: 8px;
      transition: all 0.2s ease-in-out;
      text-align: center;
    }
    .radio-label:hover {
      background-color: #f9fafb;
      border-color: #d1d5db;
    }
    input[type="radio"]:checked + .radio-label {
      background-color: #dbeafe;
      border-color: #3b82f6;
    }
    .grade-S { color: #f59e0b; }
    .grade-A { color: #10b981; }
    .grade-B { color: #3b82f6; }
    .grade-C { color: #ef4444; }
  </style>
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen p-4">

    <div id="survey-container" class="container mx-auto p-6 bg-white rounded-lg shadow-xl">
        <h1 class="text-3xl font-bold text-center text-gray-800 mb-8">OJTè‡ªå·±è©•ä¾¡ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆ</h1>
        <form id="survey-form" class="space-y-6">
            <!-- Question Category 1 -->
            <div class="question-card p-6">
                <p class="text-lg font-semibold text-gray-700 mb-4">é–¢ä¿‚ã®è³ª</p>
                <div class="space-y-4">
                    <p class="text-sm text-gray-600 mb-2"><span class="font-bold">ãƒ¬ãƒ™ãƒ«ï¼‘ï¼ˆæŒ¨æ‹¶ã€å£°æ›ã‘ï¼‰</span></p>
                    <div class="flex flex-1 flex-col sm:flex-row sm:space-x-4 space-y-2 sm:space-y-0">
                        <input type="radio" id="q1_1" name="q1" value="3" class="hidden">
                        <label for="q1_1" class="radio-label flex-1"><span>ã§ãã¦ã„ã‚‹</span></label>
                        <input type="radio" id="q1_2" name="q1" value="2" class="hidden">
                        <label for="q1_2" class="radio-label flex-1"><span>ã©ã¡ã‚‰ã§ã‚‚ãªã„</span></label>
                        <input type="radio" id="q1_3" name="q1" value="1" class="hidden">
                        <label for="q1_3" class="radio-label flex-1"><span>ã§ãã¦ã„ãªã„</span></label>
                    </div>
                </div>
                <div class="space-y-4 mt-4">
                    <p class="text-sm text-gray-600 mb-2"><span class="font-bold">ãƒ¬ãƒ™ãƒ«ï¼’ï¼ˆæ°—å…¼ã­ãªãè©±ã›ã‚‹ï¼‰</span></p>
                    <div class="flex flex-1 flex-col sm:flex-row sm:space-x-4 space-y-2 sm:space-y-0">
                        <input type="radio" id="q2_1" name="q2" value="3" class="hidden">
                        <label for="q2_1" class="radio-label flex-1"><span>ã§ãã¦ã„ã‚‹</span></label>
                        <input type="radio" id="q2_2" name="q2" value="2" class="hidden">
                        <label for="q2_2" class="radio-label flex-1"><span>ã©ã¡ã‚‰ã§ã‚‚ãªã„</span></label>
                        <input type="radio" id="q2_3" name="q2" value="1" class="hidden">
                        <label for="q2_3" class="radio-label flex-1"><span>ã§ãã¦ã„ãªã„</span></label>
                    </div>
                </div>
                <div class="space-y-4 mt-4">
                    <p class="text-sm text-gray-600 mb-2"><span class="font-bold">ãƒ¬ãƒ™ãƒ«ï¼“ï¼ˆç›¸æ‰‹ã‚’å°Šé‡ã—æ„Ÿè¬ã‚’è¨€ãˆã‚‹ï¼‰</span></p>
                    <div class="flex flex-1 flex-col sm:flex-row sm:space-x-4 space-y-2 sm:space-y-0">
                        <input type="radio" id="q3_1" name="q3" value="3" class="hidden">
                        <label for="q3_1" class="radio-label flex-1"><span>ã§ãã¦ã„ã‚‹</span></label>
                        <input type="radio" id="q3_2" name="q3" value="2" class="hidden">
                        <label for="q3_2" class="radio-label flex-1"><span>ã©ã¡ã‚‰ã§ã‚‚ãªã„</span></label>
                        <input type="radio" id="q3_3" name="q3" value="1" class="hidden">
                        <label for="q3_3" class="radio-label flex-1"><span>ã§ãã¦ã„ãªã„</span></label>
                    </div>
                </div>
            </div>

            <!-- Question Category 2 -->
            <div class="question-card p-6">
                <p class="text-lg font-semibold text-gray-700 mb-4">åŸºæœ¬å§¿å‹¢</p>
                <div class="space-y-4">
                    <p class="text-sm text-gray-600 mb-2"><span class="font-bold">é…åˆ»ã›ãšã€æ¨¡ç¯„çš„ãªæ…‹åº¦ã‚’ç¤ºã—ã¦ã„ã‚‹</span></p>
                    <div class="flex flex-1 flex-col sm:flex-row sm:space-x-4 space-y-2 sm:space-y-0">
                        <input type="radio" id="q4_1" name="q4" value="3" class="hidden">
                        <label for="q4_1" class="radio-label flex-1"><span>ã§ãã¦ã„ã‚‹</span></label>
                        <input type="radio" id="q4_2" name="q4" value="2" class="hidden">
                        <label for="q4_2" class="radio-label flex-1"><span>ã©ã¡ã‚‰ã§ã‚‚ãªã„</span></label>
                        <input type="radio" id="q4_3" name="q4" value="1" class="hidden">
                        <label for="q4_3" class="radio-label flex-1"><span>ã§ãã¦ã„ãªã„</span></label>
                    </div>
                </div>
                <div class="space-y-4 mt-4">
                    <p class="text-sm text-gray-600 mb-2"><span class="font-bold">çœŸæ‘¯ã‹ã¤æ¸©å’Œã«æ¥ã—ã¦ã„ã‚‹</span></p>
                    <div class="flex flex-1 flex-col sm:flex-row sm:space-x-4 space-y-2 sm:space-y-0">
                        <input type="radio" id="q5_1" name="q5" value="3" class="hidden">
                        <label for="q5_1" class="radio-label flex-1"><span>ã§ãã¦ã„ã‚‹</span></label>
                        <input type="radio" id="q5_2" name="q5" value="2" class="hidden">
                        <label for="q5_2" class="radio-label flex-1"><span>ã©ã¡ã‚‰ã§ã‚‚ãªã„</span></label>
                        <input type="radio" id="q5_3" name="q5" value="1" class="hidden">
                        <label for="q5_3" class="radio-label flex-1"><span>ã§ãã¦ã„ãªã„</span></label>
                    </div>
                </div>
                <div class="space-y-4 mt-4">
                    <p class="text-sm text-gray-600 mb-2"><span class="font-bold">å¦å®šã‹ã‚‰å…¥ã‚‰ãšå‰å‘ããªå§¿å‹¢ã§æ¥ã—ã¦ã„ã‚‹</span></p>
                    <div class="flex flex-1 flex-col sm:flex-row sm:space-x-4 space-y-2 sm:space-y-0">
                        <input type="radio" id="q6_1" name="q6" value="3" class="hidden">
                        <label for="q6_1" class="radio-label flex-1"><span>ã§ãã¦ã„ã‚‹</span></label>
                        <input type="radio" id="q6_2" name="q6" value="2" class="hidden">
                        <label for="q6_2" class="radio-label flex-1"><span>ã©ã¡ã‚‰ã§ã‚‚ãªã„</span></label>
                        <input type="radio" id="q6_3" name="q6" value="1" class="hidden">
                        <label for="q6_3" class="radio-label flex-1"><span>ã§ãã¦ã„ãªã„</span></label>
                    </div>
                </div>
            </div>

            <!-- Question Category 3 -->
            <div class="question-card p-6">
                <p class="text-lg font-semibold text-gray-700 mb-4">æŒ‡å°ã‚¹ã‚­ãƒ«</p>
                <div class="space-y-4">
                    <p class="text-sm text-gray-600 mb-2"><span class="font-bold">è¤’ã‚ã‚‹ãƒ»å±ã‚‹ã®ãƒ¡ãƒªãƒãƒªãŒã‚ã‚‹</span></p>
                    <div class="flex flex-1 flex-col sm:flex-row sm:space-x-4 space-y-2 sm:space-y-0">
                        <input type="radio" id="q7_1" name="q7" value="3" class="hidden">
                        <label for="q7_1" class="radio-label flex-1"><span>ã§ãã¦ã„ã‚‹</span></label>
                        <input type="radio" id="q7_2" name="q7" value="2" class="hidden">
                        <label for="q7_2" class="radio-label flex-1"><span>ã©ã¡ã‚‰ã§ã‚‚ãªã„</span></label>
                        <input type="radio" id="q7_3" name="q7" value="1" class="hidden">
                        <label for="q7_3" class="radio-label flex-1"><span>ã§ãã¦ã„ãªã„</span></label>
                    </div>
                </div>
                <div class="space-y-4 mt-4">
                    <p class="text-sm text-gray-600 mb-2"><span class="font-bold">æ®µéšçš„ã«æŒ‡å°ã—ã¦ã„ã‚‹</span></p>
                    <div class="flex flex-1 flex-col sm:flex-row sm:space-x-4 space-y-2 sm:space-y-0">
                        <input type="radio" id="q8_1" name="q8" value="3" class="hidden">
                        <label for="q8_1" class="radio-label flex-1"><span>ã§ãã¦ã„ã‚‹</span></label>
                        <input type="radio" id="q8_2" name="q8" value="2" class="hidden">
                        <label for="q8_2" class="radio-label flex-1"><span>ã©ã¡ã‚‰ã§ã‚‚ãªã„</span></label>
                        <input type="radio" id="q8_3" name="q8" value="1" class="hidden">
                        <label for="q8_3" class="radio-label flex-1"><span>ã§ãã¦ã„ãªã„</span></label>
                    </div>
                </div>
                <div class="space-y-4 mt-4">
                    <p class="text-sm text-gray-600 mb-2"><span class="font-bold">ãƒŸã‚¹ã‚„ã‚„ã‚‰ã‹ã—ã‚’é©åˆ‡ã«æŒ‡æ‘˜ã—ã€æ”¹å–„ã®æ–¹å‘ã‚’ç¤ºã—ã¦ã„ã‚‹</span></p>
                    <div class="flex flex-1 flex-col sm:flex-row sm:space-x-4 space-y-2 sm:space-y-0">
                        <input type="radio" id="q9_1" name="q9" value="3" class="hidden">
                        <label for="q9_1" class="radio-label flex-1"><span>ã§ãã¦ã„ã‚‹</span></label>
                        <input type="radio" id="q9_2" name="q9" value="2" class="hidden">
                        <label for="q9_2" class="radio-label flex-1"><span>ã©ã¡ã‚‰ã§ã‚‚ãªã„</span></label>
                        <input type="radio" id="q9_3" name="q9" value="1" class="hidden">
                        <label for="q9_3" class="radio-label flex-1"><span>ã§ãã¦ã„ãªã„</span></label>
                    </div>
                </div>
            </div>

            <!-- Question Category 4 -->
            <div class="question-card p-6">
                <p class="text-lg font-semibold text-gray-700 mb-4">ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³</p>
                <div class="space-y-4">
                    <p class="text-sm text-gray-600 mb-2"><span class="font-bold">ã‚¢ã‚¤ã‚¹ãƒ–ãƒ¬ã‚¤ã‚¯ã‚„é›‘è«‡ã‚’äº¤ãˆã€è©±ã—ã‚„ã™ã„é›°å›²æ°—ã‚’ã¤ãã£ã¦ã„ã‚‹</span></p>
                    <div class="flex flex-1 flex-col sm:flex-row sm:space-x-4 space-y-2 sm:space-y-0">
                        <input type="radio" id="q10_1" name="q10" value="3" class="hidden">
                        <label for="q10_1" class="radio-label flex-1"><span>ã§ãã¦ã„ã‚‹</span></label>
                        <input type="radio" id="q10_2" name="q10" value="2" class="hidden">
                        <label for="q10_2" class="radio-label flex-1"><span>ã©ã¡ã‚‰ã§ã‚‚ãªã„</span></label>
                        <input type="radio" id="q10_3" name="q10" value="1" class="hidden">
                        <label for="q10_3" class="radio-label flex-1"><span>ã§ãã¦ã„ãªã„</span></label>
                    </div>
                </div>
                <div class="space-y-4 mt-4">
                    <p class="text-sm text-gray-600 mb-2"><span class="font-bold">è³ªå•ã‚„ç›¸è«‡ã‚’ã—ã‚„ã™ã„ç©ºæ°—ã‚’ã¤ãã£ã¦ã„ã‚‹</span></p>
                    <div class="flex flex-1 flex-col sm:flex-row sm:space-x-4 space-y-2 sm:space-y-0">
                        <input type="radio" id="q11_1" name="q11" value="3" class="hidden">
                        <label for="q11_1" class="radio-label flex-1"><span>ã§ãã¦ã„ã‚‹</span></label>
                        <input type="radio" id="q11_2" name="q11" value="2" class="hidden">
                        <label for="q11_2" class="radio-label flex-1"><span>ã©ã¡ã‚‰ã§ã‚‚ãªã„</span></label>
                        <input type="radio" id="q11_3" name="q11" value="1" class="hidden">
                        <label for="q11_3" class="radio-label flex-1"><span>ã§ãã¦ã„ãªã„</span></label>
                    </div>
                </div>
                <div class="space-y-4 mt-4">
                    <p class="text-sm text-gray-600 mb-2"><span class="font-bold">æ„è¦‹ã‚„è¡Œå‹•ã‚’é ­ã”ãªã—ã«å¦å®šã—ãªã„</span></p>
                    <div class="flex flex-1 flex-col sm:flex-row sm:space-x-4 space-y-2 sm:space-y-0">
                        <input type="radio" id="q12_1" name="q12" value="3" class="hidden">
                        <label for="q12_1" class="radio-label flex-1"><span>ã§ãã¦ã„ã‚‹</span></label>
                        <input type="radio" id="q12_2" name="q12" value="2" class="hidden">
                        <label for="q12_2" class="radio-label flex-1"><span>ã©ã¡ã‚‰ã§ã‚‚ãªã„</span></label>
                        <input type="radio" id="q12_3" name="q12" value="1" class="hidden">
                        <label for="q12_3" class="radio-label flex-1"><span>ã§ãã¦ã„ãªã„</span></label>
                    </div>
                </div>
            </div>

            <!-- Question Category 5 -->
            <div class="question-card p-6">
                <p class="text-lg font-semibold text-gray-700 mb-4">ã‚µãƒãƒ¼ãƒˆãƒ»è¨ˆç”»æ€§</p>
                <div class="space-y-4">
                    <p class="text-sm text-gray-600 mb-2"><span class="font-bold">ç›¸è«‡ã«ã™ãã€ã¾ãŸã¯æ™‚é–“ã‚’å·¥å¤«ã—ã¦å¯¾å¿œã—ã¦ã„ã‚‹</span></p>
                    <div class="flex flex-1 flex-col sm:flex-row sm:space-x-4 space-y-2 sm:space-y-0">
                        <input type="radio" id="q13_1" name="q13" value="3" class="hidden">
                        <label for="q13_1" class="radio-label flex-1"><span>ã§ãã¦ã„ã‚‹</span></label>
                        <input type="radio" id="q13_2" name="q13" value="2" class="hidden">
                        <label for="q13_2" class="radio-label flex-1"><span>ã©ã¡ã‚‰ã§ã‚‚ãªã„</span></label>
                        <input type="radio" id="q13_3" name="q13" value="1" class="hidden">
                        <label for="q13_3" class="radio-label flex-1"><span>ã§ãã¦ã„ãªã„</span></label>
                    </div>
                </div>
                <div class="space-y-4 mt-4">
                    <p class="text-sm text-gray-600 mb-2"><span class="font-bold">OJTè¨ˆç”»ã«åŸºã¥ãã€é€²æ—ã‚’ç¢ºèªã—ãªãŒã‚‰æ®µéšçš„ã«æŒ‡å°ã—ã¦ã„ã‚‹</span></p>
                    <div class="flex flex-1 flex-col sm:flex-row sm:space-x-4 space-y-2 sm:space-y-0">
                        <input type="radio" id="q14_1" name="q14" value="3" class="hidden">
                        <label for="q14_1" class="radio-label flex-1"><span>ã§ãã¦ã„ã‚‹</span></label>
                        <input type="radio" id="q14_2" name="q14" value="2" class="hidden">
                        <label for="q14_2" class="radio-label flex-1"><span>ã©ã¡ã‚‰ã§ã‚‚ãªã„</span></label>
                        <input type="radio" id="q14_3" name="q14" value="1" class="hidden">
                        <label for="q14_3" class="radio-label flex-1"><span>ã§ãã¦ã„ãªã„</span></label>
                    </div>
                </div>
                 <div class="space-y-4 mt-4">
                    <p class="text-sm text-gray-600 mb-2"><span class="font-bold">ä»–ãƒãƒ¼ãƒ ã‚„é–¢ä¿‚è€…ã«ã¤ãªã’ã¦ãã‚Œã‚‹</span></p>
                    <div class="flex flex-1 flex-col sm:flex-row sm:space-x-4 space-y-2 sm:space-y-0">
                        <input type="radio" id="q15_1" name="q15" value="3" class="hidden">
                        <label for="q15_1" class="radio-label flex-1"><span>ã§ãã¦ã„ã‚‹</span></label>
                        <input type="radio" id="q15_2" name="q15" value="2" class="hidden">
                        <label for="q15_2" class="radio-label flex-1"><span>ã©ã¡ã‚‰ã§ã‚‚ãªã„</span></label>
                        <input type="radio" id="q15_3" name="q15" value="1" class="hidden">
                        <label for="q15_3" class="radio-label flex-1"><span>ã§ãã¦ã„ãªã„</span></label>
                    </div>
                </div>
            </div>
            
            <div class="flex justify-center mt-6">
              <button type="submit" class="bg-blue-500 text-white font-bold py-3 px-6 rounded-lg hover:bg-blue-600 transition-colors duration-200">è©•ä¾¡ã‚’è¦‹ã‚‹</button>
            </div>
        </form>
    </div>

    <div id="result-container" class="container mx-auto p-8 bg-white rounded-lg shadow-xl hidden">
        <div class="result-card p-6 text-center">
            <h2 class="text-2xl font-bold text-gray-800 mb-4">è©•ä¾¡çµæœ</h2>
            <div class="mb-6 hidden">
                <p class="text-lg text-gray-600">ã‚ãªãŸã®åˆè¨ˆç‚¹æ•°:</p>
                <p id="total-score" class="text-5xl font-extrabold text-gray-900 mt-2"></p>
            </div>
            <div>
                <p class="text-lg text-gray-600">ã‚ãªãŸã®è©•ä¾¡:</p>
                <p id="evaluation" class="text-xl md:text-2xl lg:text-3xl font-extrabold mt-2 leading-relaxed whitespace-pre-wrap"></p>
            </div>
            <div class="mt-8">
                <canvas id="radarChart"></canvas>
            </div>
            <button onclick="location.reload()" class="mt-8 bg-gray-300 text-gray-800 font-bold py-3 px-6 rounded-lg hover:bg-gray-400 transition-colors duration-200">ã‚‚ã†ä¸€åº¦è©¦ã™</button>
        </div>
    </div>

    <script>
        document.getElementById('survey-form').addEventListener('submit', function(event) {
            event.preventDefault();

            const form = event.target;
            const scores = {
                'é–¢ä¿‚ã®è³ª': 0,
                'åŸºæœ¬å§¿å‹¢': 0,
                'æŒ‡å°ã‚¹ã‚­ãƒ«': 0,
                'ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³': 0,
                'ã‚µãƒãƒ¼ãƒˆãƒ»è¨ˆç”»æ€§': 0
            };
            const questionGroups = {
                'é–¢ä¿‚ã®è³ª': ['q1', 'q2', 'q3'],
                'åŸºæœ¬å§¿å‹¢': ['q4', 'q5', 'q6'],
                'æŒ‡å°ã‚¹ã‚­ãƒ«': ['q7', 'q8', 'q9'],
                'ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³': ['q10', 'q11', 'q12'],
                'ã‚µãƒãƒ¼ãƒˆãƒ»è¨ˆç”»æ€§': ['q13', 'q14', 'q15']
            };

            let rawTotalScore = 0;
            let allAnswered = true;
            let categoryScores = {
                'é–¢ä¿‚ã®è³ª': 0,
                'åŸºæœ¬å§¿å‹¢': 0,
                'æŒ‡å°ã‚¹ã‚­ãƒ«': 0,
                'ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³': 0,
                'ã‚µãƒãƒ¼ãƒˆãƒ»è¨ˆç”»æ€§': 0
            };

            for (const category in questionGroups) {
                let categoryRawScore = 0;
                questionGroups[category].forEach(questionName => {
                    const selectedOption = form.querySelector(`input[name="${questionName}"]:checked`);
                    if (selectedOption) {
                        categoryRawScore += parseInt(selectedOption.value, 10);
                    } else {
                        allAnswered = false;
                    }
                });
                categoryScores[category] = categoryRawScore;
                rawTotalScore += categoryRawScore;
            }

            if (!allAnswered) {
                const modal = document.createElement('div');
                modal.className = 'fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full flex items-center justify-center z-50';
                modal.innerHTML = `
                    <div class="bg-white p-6 rounded-lg shadow-xl max-w-sm mx-auto text-center">
                        <p class="text-gray-800 font-semibold mb-4">å…¨ã¦ã®è³ªå•ã«å›ç­”ã—ã¦ãã ã•ã„ã€‚</p>
                        <button onclick="this.closest('.fixed').remove()" class="bg-blue-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-600">é–‰ã˜ã‚‹</button>
                    </div>
                `;
                document.body.appendChild(modal);
                return;
            }
            
            // æ–°ã—ã„ç‚¹æ•°ãƒ­ã‚¸ãƒƒã‚¯: 15ã€œ45ç‚¹ã®ã‚¹ã‚³ã‚¢ã‚’0ã€œ100ç‚¹ã«æ­£è¦åŒ–
            const scaledScore = Math.round(((rawTotalScore - 15) / 30) * 100);

            let evaluationHtml = '';
            let colorClass = '';
            
            if (scaledScore >= 80) {
                evaluationHtml = 'OJTãƒã‚¹ã‚¿ãƒ¼ç´šãƒˆãƒ¬ãƒ¼ãƒŠãƒ¼âœ¨<br><span class="text-base font-normal">ã™ã§ã«æ®¿å ‚å…¥ã‚Šã‚¯ãƒ©ã‚¹ã€‚è‚²æˆã‚¹ã‚­ãƒ«ãŒæ¥µã¾ã‚Šã€å‘¨å›²ã®æ¨¡ç¯„ã¨ãªã‚‹å­˜åœ¨ã€‚</span>';
                colorClass = 'grade-S';
            } else if (scaledScore >= 60) {
                evaluationHtml = 'OJTã‚¨ãƒªãƒ¼ãƒˆãƒˆãƒ¬ãƒ¼ãƒŠãƒ¼ğŸ’ª<br><span class="text-base font-normal">å®‰å®šæ„Ÿã®ã‚ã‚‹å®ŸåŠ›è€…ã€‚æ—¥å¸¸ã®æŒ‡å°ã«å¼·ã¿ã‚’ç™ºæ®ã—ã€å¾Œè¼©ã‹ã‚‰ã‚‚ä¿¡é ¼ã•ã‚Œã‚‹ã€‚</span>';
                colorClass = 'grade-A';
            } else if (scaledScore >= 40) {
                evaluationHtml = 'OJTãƒ–ãƒªãƒ¼ãƒ€ãƒ¼è¦‹ç¿’ã„ğŸŒ±<br><span class="text-base font-normal">åŸºæœ¬ã‚¹ã‚­ãƒ«ã¯èº«ã«ã¤ã„ã¦ã„ã‚‹ãŒã€æŒ‡å°çµŒé¨“ã®ç©ã¿é‡ã­ã§ã•ã‚‰ã«é€²åŒ–ãŒæœŸå¾…ã§ãã‚‹ã€‚</span>';
                colorClass = 'grade-B';
            } else {
                evaluationHtml = 'OJTã‚¿ãƒã‚´çŠ¶æ…‹ğŸ¥š<br><span class="text-base font-normal">å¯èƒ½æ€§ã¯ç§˜ã‚ã¦ã„ã‚‹æ®µéšã€‚å‘¨å›²ã®ã‚µãƒãƒ¼ãƒˆã‚„çµŒé¨“ã‚’å–ã‚Šè¾¼ã¿ãªãŒã‚‰æˆé•·ã®æº–å‚™ã‚’é€²ã‚ãŸã„ã€‚</span>';
                colorClass = 'grade-C';
            }

            document.getElementById('total-score').textContent = scaledScore;
            const evaluationElement = document.getElementById('evaluation');
            evaluationElement.innerHTML = evaluationHtml;
            evaluationElement.className = `text-4xl md:text-5xl lg:text-6xl font-extrabold mt-2 leading-relaxed whitespace-pre-wrap ${colorClass}`;

            document.getElementById('survey-container').classList.add('hidden');
            document.getElementById('result-container').classList.remove('hidden');

            // Radar chart data is also scaled
            const radarData = Object.values(categoryScores).map(score => ((score - 3) / 6) * 100);

            const ctx = document.getElementById('radarChart').getContext('2d');
            new Chart(ctx, {
                type: 'radar',
                data: {
                    labels: Object.keys(categoryScores),
                    datasets: [{
                        label: 'ã‚ãªãŸã®ã‚¹ã‚³ã‚¢',
                        data: radarData,
                        backgroundColor: 'rgba(59, 130, 246, 0.2)',
                        borderColor: 'rgba(59, 130, 246, 1)',
                        pointBackgroundColor: 'rgba(59, 130, 246, 1)',
                        pointBorderColor: '#fff',
                        pointHoverBackgroundColor: '#fff',
                        pointHoverBorderColor: 'rgba(59, 130, 246, 1)'
                    }]
                },
                options: {
                    responsive: true,
                    elements: {
                        line: {
                            borderWidth: 3
                        }
                    },
                    scales: {
                        r: {
                            angleLines: {
                                display: false
                            },
                            suggestedMin: 0,
                            suggestedMax: 100, 
                            pointLabels: {
                                font: {
                                    size: 14
                                }
                            },
                            ticks: {
                                display: false 
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            display: true,
                            position: 'bottom'
                        }
                    }
                }
            });
        });
    </script>
</body>
</html>
